<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>e-commerce</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <nav>
        <img src="../images/logo.png" style="width: 15%;height: 15%;" class="logo">
        <div class="nav">
            <a href="./index.html">Home </a>
            <a href="">Shop </a>
            <a href="">product </a>
            <a href="">page </a>
            <a href="">docs </a>

            <a href="" id="cart" style="position: relative; font-size: 20px;"> <i class="fas fa-shopping-cart"></i>
                <span id="counterabc"
                    style=" position:absolute ;top:  0px; right: 6px; font-size: 14px; background-color:beige; border-radius: 26%; height: 20px; width: 15px; text-align: center;">0</span></a>

        </div>
    </nav>
    <div id="cart-data">
        <table style="width: 100%;">
            <thead>
                <tr class="cart-item">
                    <td>Image</td>
                    <td>product</td>
                    <td>price</td>
                    <td>quantity</td>
                    <td>total</td>
                    <td>remove</td>
                </tr>
            </thead>
            <tbody id="mainContainer">

                <!-- <tr id="cart-Item">
                    <td id="image"><img src="${img}" alt="" style="width: 70px;height: 70px; "></td>
                    <td id="name">${name}</td>
                    <td class="price">1200</td>
                    <td id="quantity">
                        <span class="decrement">-</span>
                        <span id="one" class="count">1</span>
                        <span class="increment">+</span>
                    </td>
                    <td class="total">1200</td>
                    <td><i class="fas fa-times removeProduct"
                            style="border: 1px solid black; border-radius: 100%; padding: 2px 6px 2px 5px; "></i>
                    </td>
                </tr> -->

            </tbody>

        </table>
    </div>
    <script src="../script.js"></script>
    <script>
        let mainContainer = document.getElementById('mainContainer')
        let productData = localStorage.getItem('data')
        mainContainer.innerHTML = productData
        let counterabc = document.getElementById('counterabc')
        let ans = localStorage.getItem('number')
        counterabc.innerText = ans


        let cross = document.querySelectorAll('.removeProduct')

        cross.forEach((x) => {
            x.addEventListener('click', function () {

                let parentContainer = this.closest('.cart-Item');
                if (parentContainer) {
                    parentContainer.remove()
                }
                localStorage.setItem('data', mainContainer.innerHTML)
                let CartNo = parseInt(localStorage.getItem('number'))
                CartNo--
                localStorage.setItem('number', CartNo)
                counterabc.innerText = CartNo

            })
        })
        let Counter = document.querySelectorAll('.count')
        let Decrement = document.querySelectorAll('.decrement')
        let Increment = document.querySelectorAll('.increment')

        //  pricing section
        let price = document.querySelectorAll('.price')
        let total = document.querySelectorAll('.total')

        Increment.forEach((v, i) => {
            v.addEventListener('click', () => {
                let value = parseInt(Counter[i].innerText)
                value++
                Counter[i].innerText = value

                let Pr = parseInt(price[i].innerText)
                let totl = Pr * value
                total[i].innerText = totl

                localStorage.setItem('data', mainContainer.innerHTML)
            })
        })
        Decrement.forEach((v, i) => {
            v.addEventListener('click', () => {
                let value = parseInt(Counter[i].innerText)
                if (value > 0) {
                    value--
                }
                Counter[i].innerText = value

                let Pr = parseInt(price[i].innerText)
                let totl = Pr * value
                total[i].innerText = totl

                localStorage.setItem('data', mainContainer.innerHTML)
            })
        })



     



    </script>

</body>

</html>